{"version":3,"sources":["components/Header.tsx","API.ts","App.tsx","Store.tsx","Items.tsx","Routes.tsx","index.tsx"],"names":["Header","inventory","setInventory","useState","flag","setFlag","className","to","onClick","onKeyPress","role","tabIndex","length","onMouseLeave","setTimeout","reduce","a","e","price","toFixed","type","map","arg","i","URL","src","imageURL","alt","name","quantity","key","preventDefault","copy","splice","TWITCH_CLIENT_ID","process","ACCESS_TOKEN","END_POINT","params","fetch","method","headers","Authorization","body","json","data","getGameData","App","newGames","setNewGames","counter","setCounter","useEffect","fetchNewGames","interval","setInterval","prev","clearInterval","forEach","artworks","Image","image_id","style","backgroundImage","slug","cover","id","Store","items","setItems","searchValue","setSearchValue","loading","setLoading","fetchStoreData","placeholder","onKeyUp","currentTarget","value","genres","genre","index","Items","match","item","setItem","fetchItem","screenshots","image","margin","paddingRight","platforms","platform","abbreviation","release_dates","human","aggregated_rating","toString","some","produce","draft","findIndex","deepCopy","storyline","summary","Routes","basename","path","exact","render","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f3cd9381.chunk.js","sourcesContent":["import { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../styles/Header.css';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\n\nexport interface Inventory {\n  name: string;\n  price: number;\n  imageURL: string;\n  quantity: number;\n  URL: string;\n}\n\ninterface Props {\n  inventory: Inventory[];\n  setInventory: React.Dispatch<React.SetStateAction<Inventory[]>>;\n}\n\nconst Header: React.FC<Props> = ({ inventory, setInventory }): JSX.Element => {\n  const [flag, setFlag] = useState(true);\n\n  return (\n    <header className=\"header flex white\">\n      <div className=\"flex\">\n        <Link className=\"white big\" to=\"/\">\n          PAYSTORE\n        </Link>\n        <nav className=\"flex\">\n          <Link className=\"nav white\" to=\"/store\">\n            Store\n          </Link>\n        </nav>\n      </div>\n      <div className=\"icon\">\n        <div\n          className=\"flex cart\"\n          onClick={() => setFlag(!flag)}\n          onKeyPress={() => setFlag(!flag)}\n          role=\"menuitem\"\n          tabIndex={0}\n        >\n          <ShoppingCartIcon />\n          <h4>{inventory.length}</h4>\n        </div>\n        <div\n          className={!flag ? 'history' : 'history hide'}\n          onMouseLeave={() =>\n            setTimeout(() => {\n              setFlag(true);\n            }, 1000)\n          }\n        >\n          <div className=\"checkout-summary flex\">\n            <div className=\"summary-left\">\n              <h3>{inventory.length} items added</h3>\n            </div>\n            <div className=\"flex\">\n              <h3 className=\"summary-right\">\n                ${inventory.reduce((a, e) => a + e.price, 0).toFixed(2)}\n              </h3>\n              {inventory.length > 0 && (\n                <button type=\"button\" className=\"checkout-button\">\n                  Check Out\n                </button>\n              )}\n            </div>\n          </div>\n          {inventory.map((arg, i) => {\n            return (\n              <Link\n                to={`/store/${arg.URL}`}\n                key={arg.name}\n                className=\"flex list white\"\n              >\n                <img\n                  src={`https://images.igdb.com/igdb/image/upload/t_cover_big/${arg.imageURL}.jpg`}\n                  alt=\"Cover\"\n                  className=\"checkout-image\"\n                />\n                <div>\n                  <h3 className=\"checkout-name\">{arg.name}</h3>\n                </div>\n                <h4>${arg.price.toFixed(2)}</h4>\n                <h4 className=\"checkout-price\">Ã—{arg.quantity}</h4>\n                <div\n                  className=\"remove\"\n                  onKeyPress={(e) => {\n                    if (e.key === 'Enter') {\n                      e.preventDefault();\n                      const copy = [...inventory];\n                      copy.splice(i, 1);\n                      setInventory(copy);\n                    }\n                  }}\n                  role=\"menuitem\"\n                  tabIndex={-1}\n                  onClick={(e) => {\n                    e.preventDefault();\n                    const copy = [...inventory];\n                    copy.splice(i, 1);\n                    setInventory(copy);\n                  }}\n                >\n                  <p>Remove from cart</p>\n                </div>\n              </Link>\n            );\n          })}\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/* eslint-disable camelcase */\nconst TWITCH_CLIENT_ID = process.env.REACT_APP_CLIENT_ID;\nconst ACCESS_TOKEN = process.env.REACT_APP_ACCESS_TOKEN;\nconst END_POINT = process.env.REACT_APP_ENDPOINT;\n\nexport interface NewGame {\n  cover: {\n    image_id: string;\n  };\n  name: string;\n  id: string;\n  artworks: {\n    image_id: string;\n  }[];\n  slug: string;\n  genres: {\n    name: string;\n  }[];\n  screenshots: {\n    image_id: string;\n    id: string;\n  }[];\n  platforms: {\n    abbreviation: string;\n  }[];\n  release_dates: {\n    human: string;\n  }[];\n  aggregated_rating: number;\n  storyline: string;\n  summary: string;\n}\n\nasync function getGameData(params: string): Promise<NewGame[]> {\n  const data = await (\n    await fetch(END_POINT!, {\n      method: 'POST',\n      headers: {\n        'Client-ID': TWITCH_CLIENT_ID!,\n        Authorization: ACCESS_TOKEN!,\n      },\n      body: params,\n    })\n  ).json();\n\n  return data;\n}\n\nexport default getGameData;\n","import { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Header, { Inventory } from './components/Header';\nimport getGameData, { NewGame } from './API';\nimport './styles/App.css';\n\ninterface Props {\n  inventory: Inventory[];\n  setInventory: React.Dispatch<React.SetStateAction<Inventory[]>>;\n}\n\nconst App: React.FC<Props> = ({ inventory, setInventory }): JSX.Element => {\n  const [newGames, setNewGames] = useState<NewGame[]>([]);\n  const [counter, setCounter] = useState(0);\n\n  useEffect(() => {\n    async function fetchNewGames() {\n      const params =\n        'fields cover.image_id,name,id,artworks.image_id,slug; where artworks != null & rating >= 80 & rating_count >= 5 & first_release_date > 1609426800; limit 6; sort first_release_date desc;';\n      const data = await getGameData(params);\n      setNewGames(data);\n    }\n    fetchNewGames();\n  }, []);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCounter((prev) => prev + 1);\n      if (counter >= newGames.length - 1) setCounter(0);\n    }, 7500);\n    return () => {\n      clearInterval(interval);\n    };\n  }, [counter, newGames.length, newGames]);\n\n  useEffect(() => {\n    newGames.forEach(({ artworks }) => {\n      new Image().src = `https://images.igdb.com/igdb/image/upload/t_screenshot_huge/${artworks[0].image_id}.jpg`;\n    });\n  }, [newGames]);\n\n  return (\n    <>\n      <Header inventory={inventory} setInventory={setInventory} />\n      <main>\n        <h3>Newest Popular Releases</h3>\n        <div className=\"new-games-container\">\n          {newGames.length > 0 && (\n            <div\n              className=\"show\"\n              style={{\n                backgroundImage: `url(\"https://images.igdb.com/igdb/image/upload/t_screenshot_huge/${newGames[counter]?.artworks[0].image_id}.jpg\")`,\n              }}\n            >\n              <Link className=\"link\" to={`/store/${newGames[counter]?.slug}`}>\n                Browse\n              </Link>\n            </div>\n          )}\n          <div className=\"side\">\n            {newGames.map((arg, i) => (\n              <div\n                key={arg.id}\n                className={i === counter ? 'focus' : ''}\n                onClick={() => setCounter(i)}\n                onKeyPress={() => setCounter(i)}\n                role=\"menuitem\"\n                tabIndex={i}\n              >\n                <img\n                  src={`https://images.igdb.com/igdb/image/upload/t_cover_small/${arg.cover.image_id}.jpg`}\n                  alt=\"Game Cover\"\n                />\n                <p>{arg.name}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n      </main>\n    </>\n  );\n};\n\nexport default App;\n","/* eslint-disable no-nested-ternary */\nimport { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Header, { Inventory } from './components/Header';\nimport getGameData, { NewGame } from './API';\nimport './styles/Store.css';\n\ninterface Props {\n  inventory: Inventory[];\n  setInventory: React.Dispatch<React.SetStateAction<Inventory[]>>;\n}\n\nconst Store: React.FC<Props> = ({ inventory, setInventory }): JSX.Element => {\n  const [items, setItems] = useState<NewGame[]>([]);\n  const [searchValue, setSearchValue] = useState('');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    async function fetchStoreData() {\n      const params =\n        searchValue === ''\n          ? 'fields cover.image_id,name,id,slug,genres.name; where rating >= 80 & rating_count >= 100; limit 30; sort rating_count desc;'\n          : `fields cover.image_id,name,id,slug,genres.name; limit 30; where rating >= 70 & rating_count >= 60; search \"${searchValue}\";`;\n      const data = await getGameData(params);\n      setItems(data);\n      setLoading(false);\n    }\n    fetchStoreData();\n  }, [searchValue]);\n\n  return (\n    <>\n      <Header inventory={inventory} setInventory={setInventory} />\n      <main>\n        <div className=\"flex search-container\">\n          <SearchIcon className=\"search-icon\" />\n          <input\n            placeholder=\"Enter a title...\"\n            type=\"search\"\n            className=\"search\"\n            onKeyUp={(e) => {\n              if (e.key === 'Enter') setSearchValue(e.currentTarget.value);\n            }}\n          />\n        </div>\n        {items.length > 0 ? (\n          <div className=\"itemsContainer\">\n            {items.map((arg, i) => (\n              <Link\n                to={`/store/${items[i]?.slug}`}\n                key={arg.id}\n                className=\"items\"\n              >\n                <img\n                  src={`https://images.igdb.com/igdb/image/upload/t_720p/${arg?.cover?.image_id}.jpg`}\n                  alt=\"Game\"\n                  className=\"items-image\"\n                />\n                <div className=\"description\">\n                  <h4 className=\"name\">{arg.name}</h4>\n                  <p className=\"genres\">\n                    {arg?.genres?.map((genre, index) =>\n                      index === 0 ? ` ${genre.name}` : ` | ${genre.name} `\n                    )}\n                  </p>\n                  <h2 className=\"price\">$ 49.99</h2>\n                </div>\n              </Link>\n            ))}\n          </div>\n        ) : items.length === 0 && !loading ? (\n          <h1 className=\"not-found\">No search results found</h1>\n        ) : null}\n      </main>\n    </>\n  );\n};\n\nexport default Store;\n","/* eslint-disable no-nested-ternary */\nimport { useEffect, useState } from 'react';\nimport produce from 'immer';\nimport Header, { Inventory } from './components/Header';\nimport getGameData, { NewGame } from './API';\nimport './styles/Item.css';\n\ninterface Props {\n  match: {\n    params: {\n      id: string;\n    };\n  };\n  inventory: Inventory[];\n  setInventory: React.Dispatch<React.SetStateAction<Inventory[]>>;\n}\n\nconst Items: React.FC<Props> = ({\n  match,\n  inventory,\n  setInventory,\n}): JSX.Element => {\n  const [item, setItem] = useState<NewGame[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [counter, setCounter] = useState(0);\n\n  useEffect(() => {\n    async function fetchItem() {\n      const params = `fields cover.image_id,name,slug,genres.name,screenshots.*,release_dates.human,storyline,summary,platforms.abbreviation,aggregated_rating; where slug = \"${match.params.id}\"; limit 1;`;\n      const data = await getGameData(params);\n      setItem(data);\n      setLoading(false);\n    }\n    fetchItem();\n  }, [match.params.id]);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCounter((prev) => prev + 1);\n      if (counter >= item[0].screenshots.length - 1) setCounter(0);\n    }, 4000);\n    return () => {\n      clearInterval(interval);\n    };\n  }, [counter, item]);\n\n  useEffect(() => {\n    item[0]?.screenshots.forEach((image) => {\n      new Image().src = `https://images.igdb.com/igdb/image/upload/t_720p/${image.image_id}.jpg`;\n    });\n  }, [item]);\n\n  return (\n    <>\n      <Header inventory={inventory} setInventory={setInventory} />\n      {item.length > 0 ? (\n        <main>\n          <div className=\"main-container top\">\n            <h1 className=\"title\">{item[0].name}</h1>\n            <div className=\"screenshots-container\">\n              <img\n                src={`https://images.igdb.com/igdb/image/upload/t_720p/${item[0].screenshots[counter]?.image_id}.jpg`}\n                alt=\"Screenshot\"\n                className=\"screenshot\"\n              />\n              <div className=\"screenshots-rotation\">\n                {item[0].screenshots.map((arg, i) => (\n                  <div\n                    onClick={() => setCounter(i)}\n                    onKeyPress={() => setCounter(i)}\n                    role=\"menuitem\"\n                    tabIndex={i}\n                    key={arg.id}\n                  >\n                    <img\n                      src={`https://images.igdb.com/igdb/image/upload/t_screenshot_med/${arg.image_id}.jpg`}\n                      alt=\"Screenshot\"\n                      className={\n                        i === counter\n                          ? 'screenshot-small now'\n                          : 'screenshot-small'\n                      }\n                      style={\n                        i === item[0].screenshots.length - 1\n                          ? { margin: '0' }\n                          : {}\n                      }\n                    />\n                  </div>\n                ))}\n              </div>\n            </div>\n            <div className=\"side-container\">\n              <img\n                src={`https://images.igdb.com/igdb/image/upload/t_1080p/${item[0].cover.image_id}.jpg`}\n                alt=\"Cover\"\n                className=\"side-image\"\n              />\n              <p>\n                <span style={{ paddingRight: '60px' }}>Genres:</span>\n                {item[0].genres.map((genre, index) =>\n                  index === 0 ? ` ${genre.name}` : ` | ${genre.name} `\n                )}\n              </p>\n              <p>\n                <span style={{ paddingRight: '38px' }}>Platforms:</span>\n                {item[0].platforms.map((platform, index) =>\n                  index === 0\n                    ? ` ${platform.abbreviation}`\n                    : ` | ${platform.abbreviation} `\n                )}\n              </p>\n              <p>\n                <span style={{ paddingRight: '15px' }}>Release Date:</span>\n                {item[0].release_dates[0].human}\n              </p>\n              <p>\n                <span style={{ paddingRight: '72px' }}>Rating:</span>\n                {item[0].aggregated_rating\n                  ? item[0].aggregated_rating?.toString().length > 5\n                    ? `${item[0].aggregated_rating?.toFixed(2)}%`\n                    : `${item[0].aggregated_rating}%`\n                  : 'No Rating'}\n              </p>\n              <h2 className=\"link button\">$49.99</h2>\n              <button\n                className=\"link button\"\n                type=\"button\"\n                onClick={() => {\n                  if (inventory.some(({ name }) => name === item[0].name)) {\n                    const copy = produce(inventory, (draft) => {\n                      const index = inventory.findIndex(\n                        ({ name }) => name === item[0].name\n                      );\n                      const deepCopy = draft;\n                      deepCopy[index].quantity += 1;\n                      const originalPrice = 49.99;\n                      deepCopy[index].price =\n                        originalPrice * deepCopy[index].quantity;\n                    });\n                    setInventory(copy);\n                  } else\n                    setInventory((prev) => [\n                      ...prev,\n                      {\n                        name: item[0].name,\n                        price: 49.99,\n                        imageURL: item[0].cover.image_id,\n                        quantity: 1,\n                        URL: item[0].slug,\n                      },\n                    ]);\n                }}\n              >\n                Add to cart\n              </button>\n            </div>\n          </div>\n          <div className=\"main-container storyline\">\n            <h3>About this game:</h3>\n            <p>{item[0].storyline || item[0].summary}</p>\n          </div>\n        </main>\n      ) : item.length === 0 && !loading ? (\n        <h1 className=\"not-found\">404 Not Found</h1>\n      ) : null}\n    </>\n  );\n};\n\nexport default Items;\n","import { useState } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport App from './App';\nimport Store from './Store';\nimport Items from './Items';\nimport { Inventory } from './components/Header';\n\nconst Routes = (): JSX.Element => {\n  const [inventory, setInventory] = useState<Inventory[]>([]);\n\n  return (\n    <Router basename=\"/shopping-cart\">\n      <Switch>\n        <Route path=\"/\" exact>\n          <App inventory={inventory} setInventory={setInventory} />\n        </Route>\n        <Route path=\"/store\" exact>\n          <Store inventory={inventory} setInventory={setInventory} />\n        </Route>\n        <Route\n          path=\"/store/:id\"\n          exact\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          render={({ match }: any) => (\n            <Items\n              match={match}\n              inventory={inventory}\n              setInventory={setInventory}\n            />\n          )}\n        />\n      </Switch>\n    </Router>\n  );\n};\n\nexport default Routes;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport Routes from './Routes';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Routes />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}